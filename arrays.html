<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Arrays</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">
    
    <script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-77665803-1', 'auto');
	  ga('send', 'pageview');

	</script>
  
	<script src="js/jquery-1.11.1.min.js"></script>
  
	<script src="js/shCore.js"></script>

	<script src="js/shBrushScala.js"></script>
	<script src="js/shBrushCSharp.js"></script>
	<script src="js/shBrushDart.js"></script>
	<script src="js/shBrushJava.js"></script>
	<script src="js/shBrushLense.js"></script>

    <!-- Le styles -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    
    <link href="css/base.css" rel="stylesheet">
	<link href="css/asciidoctor.css" rel="stylesheet">
 
  	<link rel="stylesheet" type="text/css" href="css/shCore.css"  >
	<link rel="stylesheet" type="text/css" href="css/shThemeLense.css" >
	<link rel="stylesheet" type="text/css" href="css/shThemeDefault.css" >
	<link rel="stylesheet" type="text/css" href="css/site.css" >

	<style>
		.navbar-toggle{
			float:left;
			margin-left:7px;
		}
	</style>
	
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->

    <link rel="shortcut icon" href="icon.png">
	
	<script>
	$(document).ready(function() {
	  $(".collapsible-menu").on("click", "li > a", function(e) {
		var p = $(this).parent();
		if (p.hasClass("has-children")) {
			p.toggleClass("open").siblings(".open").removeClass("open");
		}
	  });
	  
	  var url = window.location.pathname;
		var filename = url.substring(url.lastIndexOf('/')+1);
		
	  $(".collapsible-menu a").each(function(){
		var link = $(this).attr("href");
		
		if (filename == link) {
			var item = $(this).parent();
			
			while (!item.hasClass("collapsible-menu")){
				if (item.hasClass("has-children")) {
					item.toggleClass("open").siblings(".open").removeClass("open");
				}
				item = $(item).parent()
			}
		}

	  })
	  
	});
	</script>
  </head>
  <body onload="prettyPrint()">
    <div id="wrap">
	
	<!-- Fixed navbar -->
    <nav class="navbar navbar-default navbar-fixed-top" >
      <div class="container">
        <div class="navbar-header">
		  <button type="button" data-target="#navbar" data-toggle="collapse" class="navbar-toggle"> 
			  <span class="sr-only">Toggle navigation</span> 
			  <span class="icon-bar"></span> 
			  <span class="icon-bar"></span> 
		  </button>
          <a class="navbar-brand" href="index.html">Lense</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Get Started<b class="caret"></b></a>
				<ul class="dropdown-menu">
					<li class="disabled"><a href="learn.html">Learn Lense</a></li>
					<li class="disabled"><a href="try.html">Try Lense</a></li>
					<li><a href="https://github.com/sergiotaborda/lense-lang">Download</a></li>
				</ul>
			</li>
            <li class="dropdown">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Fundamentals<b class="caret"></b></a>
				<ul class="dropdown-menu">
					<li><a href="tour/tour.html">Language Tour</a></li>
					<li class="disabled"><a href="guide.html">Programmer's Guide</a></li>
					<li><a href="platforms.html">Target Platforms's Guide</a></li>
						<li><a href="glossary.html">Glossary</a></li>
				</ul>
            </li>
			
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Details<b class="caret"></b></a>
				<ul class="dropdown-menu">
					<li><a href="nullability.html">Nullability</a></li>
					<li><a href="numbers.html">Numbers</a></li>
					<li><a href="strings.html">Strings</a></li>
					<li><a href="arrays.html">Arrays</a></li>
					
					<li><a href="containerLiterals.html">Container Literals</a></li>
					<li><a href="objects.html">Classes and Objects</a></li>
					<li><a href="constructors.html">Constructors</a></li>
					<li><a href="properties.html">Properties</a></li>
				
					<li><a href="operators.html">Operators</a></li>	
				
					<li><a href="monads.html">Monads</a></li>
					<li><a href="concurrency.html">Concurrency</a></li>
					<li><a href="erasure.html">Type Erasure</a></li>
					
					<li><a href="enhancements.html">External Enhancements</a></li>
					
				</ul>
            </li>
			<li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">More<b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="https://github.com/sergiotaborda/lense-lang">Source Code</a></li>
			    <li><a href="https://groups.google.com/forum/#!forum/lense-lang">Discussion Group</a></li>
				
				<li><a href="status.html">Roadmap &amp; Status</a></li>
              </ul>
            </li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
	
	<div class="corner-ribbon top-right sticky shadow"><a href="status.html">Exploration Stage</a></div>
    
	<div class="container">
	<div class="container-fluid">
		<div class="row row-offcanvas row-offcanvas-right">
			 <div class="col-xs-12 col-sm-9 col-sm-push-3">
				<div class="sect1">
<h2 id="_arrays">Arrays</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In some other languages arrays are normally <a href="glossary.html#primtiveTypes">primitive types</a> or at least <a href="glossary.html#fundamentalTypes">fundamental types</a>. In Lense, arrays are simply objects of the <code>Array</code> class. This class belongs to the Collections API and receives no special handling by the language or the compiler. The Collections API is a set of common object structures like hash tables and linked lists implemented in a coherent framework.</p>
</div>
<div class="paragraph">
<p>You create arrays as you would create any other class, by invoking one of its constructors. There is no <code>new SomeArray[2]</code> syntax for array definition. Arrays in Lense are the default implementation of the <code>EditableSequence</code> interface that behaves like arrays in other languages. `EditableSequence`s have fixed length and values can be set at given positions, but new objects cannot be added to the sequence. However , because Lense has no `null`s, arrays must always be pre-initialized.</p>
</div>
<div class="sect2">
<h3 id="_initialization">Initialization</h3>
<div class="paragraph">
<p>Because Lense does not have the concept of <code>null</code> arrays must be initialized correctly with a specified value. There are no default values. If you cannot determine the initialization values you will be better using a <code>List</code>( or any other <code>ResizableSequence</code> like <code>LinkedList</code>) that allows you to start with zero elements in the collection and add the elements as you go.  When you use <code>Array</code> you need to supply the elements at creation time. The easiest way to do this is with a <a href="containerLiterals$sequence-literal">sequence literal</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-lense hljs" data-lang="lense">	// with type annotation
    let numbers : Array&lt;Natural&gt; = [1, 2, 3 , 4 , 5];
	// with no type annotation, using type inference
    let numbers = [1, 2, 3 , 4 , 5];</code></pre>
</div>
</div>
<div class="paragraph">
<p>Remember <code>Array</code> is not a fundamental type in Lense. That literal above really creates a <code>Sequence</code> object that is read-only by definition. The compiler then uses a constructors.html#conversion[conversion constructor] to create the <code>Array</code> from the <code>Sequence</code>. If you wish to initialize all position in the array to the same value you can use a special constructors.html#named[named constructor].
The next example crates array with 5 elements all equal to zero.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-lense hljs" data-lang="lense">    // with type annotation
    let numbers : Array&lt;Natural&gt;  = new Array.filled(5, 0);
	// with no type annotation, using type inference
	let numbers = new Array.filled(5, 0);</code></pre>
</div>
</div>
<div class="paragraph">
<p>If a constant is not a good option in your case, you can, alternatively, use the overloaded version that receives a initialization function.
This code also  creates an array with 5 elements, but in this case they correspond to the first 5 even numbers.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-lense hljs" data-lang="lense">    // this code creates an array with 5 elements corresponding to the first 5 even numbers.
    let numbers = new Array.filled(5, i -&gt; 2 * i);</code></pre>
</div>
</div>
<div class="paragraph">
<p>This constructor receives a lambda expression to initialize each elements from the position in the array represented by the <code>i</code> parameter (can be any variable name). This parameter assumes all values for the position in the array from 0 to the size array exclusively (4 in this case). In the example we initialize the arrays with the first 5 even numbers.</p>
</div>
</div>
<div class="sect2">
<h3 id="_optional_values">Optional values</h3>
<div class="paragraph">
<p>Alternatively you can create an array with an optional type. This means each position of the array can have an absent value. You can create an array of an optional type the same way you create it for any other type. The following also created an array with 5 positions, but this time they hold the <code>none</code> value</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-lense hljs" data-lang="lense">    // with type annotation
    let numbers : Array&lt;Natural?&gt; = new Array.filled(5, none);
	// with no type annotation, using type inference
	let numbers = new Array.filled(5, none);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Remember <code>none</code> is the single value of type <code>None</code> that is equivalent to <code>Maybe&lt;Nothing&gt;</code>. You can also use the shorter constructor:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-lense hljs" data-lang="lense">	let numbers = new Array.ofAbsent&lt;Natural&gt;(5);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_empty_arrays">Empty Arrays</h3>
<div class="paragraph">
<p>In practice is useful to be able to create an empty array. The empty constructor solves this problem creating an array with no elements at all.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-lense hljs" data-lang="lense">    // creates an array of non-optional elements with no elements in it
    let numbers :  Array&lt;Natural&gt; = new Array.empty&lt;Natural&gt;();

    // creates an array of optional elements with no elements in it
    let numbers : Array&lt;Natural?&gt; = new Array.empty&lt;Natural?&gt;();</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case there is no difference if you use optional types because the arrays have no elements (its size is zero) so not elements can be retrieved any way</p>
</div>
</div>
<div class="sect2">
<h3 id="_indexing">Indexing</h3>
<div class="paragraph">
<p>Arrays are specially useful because the values at each position can be access by a second variable : the index. Normally, in other languages, this index is an integer.
In java, for example, you would write:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">    int[] array = new int[]{1,2,3};

	int x = array[1]; // x is 2

	array[2] = 6; // array position 2 is now 6 instead of 3.</code></pre>
</div>
</div>
<div class="paragraph">
<p>In java, and other languages, the array is a fundamental type and so the language and the compiler have special treatment for the index operator <code>[]</code>. In Lense arrays are not fundamental, but the index operator is.
In reality is not an operator, is the way you use <a href="properties.html#indexed">indexed properties</a>. Indexer properties are members of types that allow to read and write values based on one or more indexes.
In Lense all <code>Sequence`s have an indexed property for reading values at a given position in the sequence, and for `Array`s is also possible to write to that property since it is a `EditableSequence</code>.</p>
</div>
<div class="paragraph">
<p>In practice you can still use the <code>array[i]</code> syntax to read from, and write to, array positions , like in other languages:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-lense hljs" data-lang="lense">public updateArray( numbers : Array&lt;Natural&gt; ) {
    numbers[0] = 1;
    numbers[1] = 2;
    numbers[2] = 3;
    numbers[3] = 2 * numbers[1];
    numbers[4] = numbers[1] + numbers[2];
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>But you can also using indexes with other classes.</p>
</div>
<div class="paragraph">
<p>Additionally, indexes for all <code>Sequences</code> are `Natural`s. Natural ranges from zero onwards in the positive direction, so no "negative index" validation is necessary.</p>
</div>
</div>
<div class="sect2">
<h3 id="_interoperability">Interoperability</h3>
<div class="paragraph">
<p><code>Array`s and other `Sequence`s have some <a href="nullability.html">issues in interop</a> mode because they counterparts in other languages can be `null</code> and contain `null`s.</p>
</div>
<div class="paragraph">
<p>On the other hand, when creating instances of arrays, Lense will leverage native arrays to minimize space consumption and optimize speed. This is done by leveraging Lense&#8217;s <a href="constructors.html#factory">factory like constructors</a> and reified generics to provide the more specific/efficient implementation possible. Obviously this is only possible in some platforms.</p>
</div>
</div>
</div>
</div>
			</div>
			<div class="col-xs-6 col-sm-3 col-sm-pull-9 sidebar-offcanvas" id="sidebar"">

<ul class="collapsible-menu">
	<li><a href="index.html">Introduction</a></i></i>
	<li><a href="status.html">Status</a></i>
	<li class="has-children">
		<a href="javascript:void(0)">Syntax and Semantics</a>
		<ul >
			<li><a href="identifiers.html">Reserved Words</a></li>
			<li><a href="variables.html">Variables and Mutability</a></li>
			<li><a href="nullability.html">Nullability</a></li>
			
			 <!--
			
			<li>Comments</li>
			<li>Generics</li>
			<li>Functions and Lambdas</li>
			
			-->
			
			<li class="has-children">
				<a href="javascript:void(0)">Fundamental Types</a>
				<ul>
					<li><a href="booleans.html">Boolean</a></li>
					<li><a href="strings.html">String</a></li>
					<li><a href="numbers.html">Number</a></li>
					<li><a href="binary.html">Binary</a></li>
					<li><a href="interval.html">Interval</a></li>
					<li><a href="iterable.html">Iterable</a></li>
					<li class="has-children"> 
						<a href="javascript:void(0)">Containers</a>
						<ul> 
							<li><a href="maybe.html">Maybe</a></li>
							<li><a href="tuples.html">Tuple</a></li>
							
							<li>Range</li>
							<li><a href="sequence.html">Sequence</a></li>
							<li>Association</li>
							
						</ul>
					</li>
				</ul>
			</li>
			<li><a href="containerLiterals.html">Container Literals</a></li>
			<li><a href="arrays.html">Arrays</a></li>
			<li class="has-children">
				<a href="javascript:void(0)">Control Statements</a>
				<ul>
					<li>Decision: if</li>
					<li>Loop : while</li>
					<li>Iteration : for</li>
					<li>Selection/Matching : switch</li>
				</ul>
			</li>
			<li class="has-children"> 
				<a href="javascript:void(0)">Types</a>
				<ul>	
					<li><a href="classes.html">Classes</a></li>
					<li><a href="objects.html">Objects</a></li>
					<li><a href="interfaces.html">Interfaces</a></li>
					<li>Enums</li>
					<li><a href="enhancements.html">Enhancements</a></li>
				</ul>
			</li>
			<li class="has-children"> 
				<a href="javascript:void(0)">Type Members</a>
				<ul>
					<li><a href="constructors.html">Constructors</a></li>
					<li><a href="properties.html">Fields and Properties</a></li>
					<li><a href="indexers.html">Indexed Properties</a></li>
					<li>Methods</li>
				</ul>
			</li>
			<li><a href="casting.html">Casting</a></li>
			<li><a href="operators.html">Operator Overloading</a></li>
			
		</ul>
	</li>
	<li class="has-children">
		<a href="javascript:void(0)">Compilation</a>
		<ul>
			<li><a href="platforms.html">Platforms</a></li>
			<li><a href="erasure.html">Erasure</a></li>
		</ul>
	</li>
	<li><a href="concurrency.html">Concurrency</a>
	</li>

<ul>			</div>
		</div>
	</div>
	
	
		</div>
		<div id="push"></div>
    </div>
    
    <div id="footer">
      <div class="container">
        <p class="muted credit">Lense is an open source project </p>
      </div>
    </div>
    
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/jquery-1.11.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/prettify.js"></script>
    <script>
	
		$(document).ready(function() {
				$("code.language-lense").addClass("brush: lense");
				$("code.language-java").addClass("brush: java");
				$("code.language-c-sharp").addClass("brush: c-sharp");
				$("code.language-typescript").addClass("brush: typescript");
				$("code.language-dart").addClass("brush: dart");
				$("code.language-swift").addClass("brush: swift");
		});
	
    	SyntaxHighlighter.config.tagName = 'code';
		SyntaxHighlighter.defaults.toolbar = false;
		SyntaxHighlighter.all();
    
    </script>
  </body>
</html>