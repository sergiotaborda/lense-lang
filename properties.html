<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Properties</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">
    
    <script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-77665803-1', 'auto');
	  ga('send', 'pageview');

	</script>
  
	<script src="js/jquery-1.11.1.min.js"></script>
  
	<script src="js/shCore.js"></script>

	<script src="js/shBrushScala.js"></script>
	<script src="js/shBrushCSharp.js"></script>
	<script src="js/shBrushDart.js"></script>
	<script src="js/shBrushJava.js"></script>
	<script src="js/shBrushLense.js"></script>

    <!-- Le styles -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    
    <link href="css/base.css" rel="stylesheet">
    <link href="css/prettify.css" rel="stylesheet">
  	<link rel="stylesheet" type="text/css" href="css/shCore.css"  >
	<link rel="stylesheet" type="text/css" href="css/shThemeLense.css" >
	<link rel="stylesheet" type="text/css" href="css/shThemeDefault.css" >
	<link rel="stylesheet" type="text/css" href="css/site.css" >

	<style>
		.navbar-toggle{
			float:left;
			margin-left:7px;
		}
	</style>
	
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->

    <link rel="shortcut icon" href="icon.png">
	
	<script>
	$(document).ready(function() {
	  $(".collapsible-menu").on("click", "li > a", function(e) {
		var p = $(this).parent();
		if (p.hasClass("has-children")) {
			p.toggleClass("open").siblings(".open").removeClass("open");
		}
	  });
	  
	  var url = window.location.pathname;
		var filename = url.substring(url.lastIndexOf('/')+1);
		
	  $(".collapsible-menu a").each(function(){
		var link = $(this).attr("href");
		
		if (filename == link) {
			var item = $(this).parent();
			
			while (!item.hasClass("collapsible-menu")){
				if (item.hasClass("has-children")) {
					item.toggleClass("open").siblings(".open").removeClass("open");
				}
				item = $(item).parent()
			}
		}

	  })
	  
	});
	</script>
  </head>
  <body onload="prettyPrint()">
    <div id="wrap">
	
	<!-- Fixed navbar -->
    <nav class="navbar navbar-default navbar-fixed-top" >
      <div class="container">
        <div class="navbar-header">
		  <button type="button" data-target="#navbar" data-toggle="collapse" class="navbar-toggle"> 
			  <span class="sr-only">Toggle navigation</span> 
			  <span class="icon-bar"></span> 
			  <span class="icon-bar"></span> 
		  </button>
          <a class="navbar-brand" href="index.html">Lense</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Get Started<b class="caret"></b></a>
				<ul class="dropdown-menu">
					<li class="disabled"><a href="learn.html">Learn Lense</a></li>
					<li class="disabled"><a href="try.html">Try Lense</a></li>
					<li><a href="https://github.com/sergiotaborda/lense-lang">Download</a></li>
				</ul>
			</li>
            <li class="dropdown">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Fundamentals<b class="caret"></b></a>
				<ul class="dropdown-menu">
					<li><a href="tour/tour.html">Language Tour</a></li>
					<li class="disabled"><a href="guide.html">Programmer's Guide</a></li>
					<li><a href="platforms.html">Target Platforms's Guide</a></li>
						<li><a href="glossary.html">Glossary</a></li>
				</ul>
            </li>
			
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Details<b class="caret"></b></a>
				<ul class="dropdown-menu">
					<li><a href="nullability.html">Nullability</a></li>
					<li><a href="numbers.html">Numbers</a></li>
					<li><a href="strings.html">Strings</a></li>
					<li><a href="arrays.html">Arrays</a></li>
					
					<li><a href="containerLiterals.html">Container Literals</a></li>
					<li><a href="objects.html">Classes and Objects</a></li>
					<li><a href="constructors.html">Constructors</a></li>
					<li><a href="properties.html">Properties</a></li>
				
					<li><a href="operators.html">Operators</a></li>	
				
					<li><a href="monads.html">Monads</a></li>
					<li><a href="concurrency.html">Concurrency</a></li>
					<li><a href="erasure.html">Type Erasure</a></li>
					
					<li><a href="enhancements.html">External Enhancements</a></li>
					
				</ul>
            </li>
			<li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">More<b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="https://github.com/sergiotaborda/lense-lang">Source Code</a></li>
			    <li><a href="https://groups.google.com/forum/#!forum/lense-lang">Discussion Group</a></li>
				
				<li><a href="status.html">Roadmap &amp; Status</a></li>
              </ul>
            </li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
	
	<div class="corner-ribbon top-right sticky shadow"><a href="status.html">Exploration Stage</a></div>
    
	<div class="container">
	<div class="container-fluid">
		<div class="row row-offcanvas row-offcanvas-right">
			 <div class="col-xs-12 col-sm-9 col-sm-push-3">
				<h1>Properties</h1>
<p>In other languages you can have fields to store state and methods to manipulate state. Some languages , like C# and Scala introduce the concept of properties.<br/>Properties store state like fields but behave like methods. All properties have two associated methods called Acessor and Modifier. The acessor is the methods called to obtain (get) the value of the property. The Modifier is the methods called to change (set) the value of the property. In the background, properties are commonly a polimorfic way to access a field. In java, for example, properties are not a language construct and developers are required to follow some idioms and rules to define properties in a ways other developers and APIs will understand.</p>
<p>From the design point of view, fields represent state and properties represent the access to that state with the added value of intercepting the state read and write operations and eventually calculating the state on the fly from other properties. Because of this, fields are not supposed to be public because this will break polimorfic access and the client code will have knowledge of how the object stores its state. On the other hand, properties never need to be private because if they are they, the object is using encapsulation to protect it from it self. </p>
<p>So Lense does only have one construct named Property. However, Lense properties behave like fields if the are private, and like normal properties if the are not private hence having the best of both world in a single construct. Adicionally remember Lense requires all fields and properties to be initialized to a value. Only properties of type Maybe are initialized automaticly to <code>none</code>.</p>
<pre><code class="brush: lense">public class Person {

	public var name : String { get; set;}   = &quot;&quot;; // self-backing property initialized with the empty string
	public var surname : String  { get; set;}  = &quot;&quot;; // self-backing property initialized with the empty string
	
}

// used like a field

val person = new Person();

person.name = &quot;John&quot;; // call modifier to set the value
person.surname = &quot;Doe&quot;; // call modifier to set the value

val fullname  = person.fullname; // call accessor to get the value

Console.print(fullname); // prints: John Doe
</code></pre>
<p>The compiler will produce backing fields for non-public properties and will produce acessor and modifier methods that read and write from/to that field.</p>
<p>Note that properties are preceded with var or val. Properties with val are read-only and can only define an acessor (get) method.<br/>Properties wih var are read-write and can define both acessor and modifier. By this rule we can them simplify the declarations like this:</p>
<pre><code class="brush: lense">public class Person {

	public var name : String  = &quot;&quot;; // self-backing property initialized with the empty string
	public var surname : String  = &quot;&quot;; // self-backing property initialized with the empty string
	
}
</code></pre>
<p>Now the properties look like fields. Remember that the compiler will produce polimorphic properties because you defined them as public.</p>
<h2>Non Inialized Properties</h2>
<p>You may not omit the properie's initialization because Lense as no *null*s . If we do not kown the value or do not want to initialized it you will need to use an optional type.</p>
<pre><code class="brush: lense">public class Person {
    ... 
	public var birthdayay : Date?;
}
</code></pre>
<p>Lense will initialize this propery to <code>none</code>. So the above code is equivalent to:</p>
<pre><code class="brush: lense">public class Person {

	public var birthdayay : Date? = none;
}
</code></pre>
<h2>Read-Only and Write-Only Properties</h2>
<p>By omitting just the modifier, you can make a property read-only. By omitting just the accessor, you can make a property write-only.<br/>If the property is read-only, or write-only, the compiler will not define a private backing-field and an explicit method body is necessary.</p>
<pre><code class="brush: lense">public class Person {

	public name : String{}
	public surname : String{}
	
	public  fullname : String { // a read only property
		get { return name + &quot; &quot; + surname; }
	}
}
</code></pre>
<p>The use of write-only properties is less commom, in practice, but possible. In that case you will need some other place to store the value.</p>
<pre><code class="brush: lense">public class Write {

	private var field : String?

	public  fullname : String{ // a write only property
		set(value) { 
			this.field = name + &quot; &quot; + surname; 
		}
	}
}
</code></pre>
<p>Please note the syntax for a private fields is the same for a public property only the visibility modifier is different.</p>
<h2>Properties Constructor</h2>
<p>If the properties are mandatory in the constructor you can use a special constructor syntax</p>
<pre><code class="brush: lense">public class Fraction {

	constructor ( public val numerator, public val denominator);
	
	public val Value : Rational {
		get {
			return this.numerator / this.denominator;
		}
	}
}
</code></pre>
<p>This will create two read-only properties named "numerator" and "denominator" with a backing-field that is initialized in the constructor.<br/>You can only use this syntax in the primary constructor (the one with no body).</p>
<h2>Different visibility</h2>
<p>Sometimes you need to have a public accessor but a private modifier, or vice-versa. In that case you can use visibility modifiers to declare diferent visibilities</p>
<pre><code class="brush: lense">public class Person {

	public name : String{ public get; private set;}
	public surname : String { get; private set;}
}
</code></pre>
<p>If you omit the modifier near the acessor or modifier declarations the visibility of the property will be used.<br/>The visibility of the acessor or modifier may not be less restrictive than that of the property. Having a <code>public get</code> for a <code>private</code> property makes no sense. </p>
<h2>Intercepting And Access to the Backing-Field</h2>
<p>Sometimes you need to intercept the call to the acessor or the modifier but we would like the code to also write the result to the backing-field;<br/>This is very uncomon, so the example is a little contrived. The point is that it can be done, if you need to.</p>
<pre><code class="brush: lense">public class Doubler {
	
	contructor (private val log: Logger);

	public someValue : Natural {
		get {
			log.trace(&quot;returning {{ someValue }}&quot;);
			return someValue;
		}
		set (value) {
			val doubleValue = value *2;
			log.trace(&quot;storing {{value}} as  {{ doubleValue }}&quot;);
			someValue = doubleValue;
		}
	}
}
val log = ... // obtain it somehow

val d = new Doubler(log); 

d.someValue = 5; // will log &quot;storing 5 as 10&quot;
val x = d.someValue; // will log &quot;returning 10&quot;
</code></pre>
<p>You can use the property's name inside the accessor or the modifier to read the value before returning it and in the case of the modifier also to set a different value that the one given.</p>
			</div>
			<div class="col-xs-6 col-sm-3 col-sm-pull-9 sidebar-offcanvas" id="sidebar"">

<ul class="collapsible-menu">
	<li><a href="#">Introduction</a></i></i>
	<li><a href="status.html">Status</a></i>
	<li class="has-children">
		<a href="javascript:void(0)">Syntax and Semantics</a>
		<ul >
			<li><a href="identifiers.html">Reserved Words</a></li>
			<li><a href="variables.html">Variables and Mutability</a></li>
			<li><a href="nullability.html">Nullability</a></li>
			<li>Comments</li>
			<li>Generics</li>
			<li>Functions</li>
			
			<li class="has-children">
				<a href="javascript:void(0)">Fundamental Types</a>
				<ul>
					<li><a href="booleans.html">Boolean</a></li>
					<li><a href="strings.html">String</a></li>
					<li><a href="numbers.html">Number</a></li>
					<li><a href="binary.html">Binary</a></li>
					<li><a href="interval.html">Interval</a></li>
					<li><a href="iterable.html">Iterable</a></li>
					<li class="has-children"> 
						<a href="javascript:void(0)">Containers</a>
						<ul> 
							<li><a href="maybe.html">Maybe</a></li>
							<li><a href="tuples.html">Tuple</a></li>
							
							<li>Range</li>
							<li><a href="sequence.html">Sequence</a></li>
							<li>Association</li>
							
						</ul>
					</li>
				</ul>
			</li>
			<li><a href="containerLiterals.html">Container Literals</a></li>
			<li><a href="arrays.html">Arrays</a></li>
			<li class="has-children">
				<a href="javascript:void(0)">Control Statements</a>
				<ul>
					<li>Decision: if</li>
					<li>Loop : while</li>
					<li>Iteration : for</li>
					<li>Selection/Matching : switch</li>
				</ul>
			</li>
			<li class="has-children"> 
				<a href="javascript:void(0)">Types</a>
				<ul>	
					<li><a href="classes.html">Classes</a></li>
					<li><a href="objects.html">Objects</a></li>
					<li><a href="interfaces.html">Interfaces</a></li>
					<li>Enums</li>
					<li><a href="enhancements.html">Enhancements</a></li>
				</ul>
			</li>
			<li class="has-children"> 
				<a href="javascript:void(0)">Type Members</a>
				<ul>
					<li><a href="constructors.html">Constructors</a></li>
					<li><a href="properties.html">Fields and Properties</a></li>
					<li><a href="indexers.html">Indexed Properties</a></li>
					<li>Methods</li>
				</ul>
			</li>
			<li>Lambdas</li>
			<li>Casting</li>
			<li><a href="operators.html">Operator Overloading</a></li>
			
		</ul>
	</li>
	<li class="has-children">
		<a href="javascript:void(0)">Compilation</a>
		<ul>
			<li><a href="platforms.html">Platforms</a></li>
			<li><a href="erasure.html">Erasure</a></li>
		</ul>
	</li>
	<li><a href="concurrency.html">Concurrency</a>
	</li>

<ul>			</div>
		</div>
	</div>
	
	
		</div>
		<div id="push"></div>
    </div>
    
    <div id="footer">
      <div class="container">
        <p class="muted credit">Lense is an open source project and a community driven effort</p>
      </div>
    </div>
    
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/jquery-1.11.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/prettify.js"></script>
    <script>
    	SyntaxHighlighter.config.tagName = 'code';
		SyntaxHighlighter.defaults.toolbar = false;
		SyntaxHighlighter.all();
    
    </script>
  </body>
</html>