<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Numbers</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">
    
    
  
	<script src="js/shCore.js"></script>

	<script src="js/shBrushScala.js"></script>
	<script src="js/shBrushCSharp.js"></script>
	<script src="js/shBrushDart.js"></script>
	<script src="js/shBrushJava.js"></script>
		
	<script src="js/shBrushLense.js"></script>
	<style>
	 .console {
	    background : black;
	    color: white;
	    width: 500px;
	 }
	 p {
	 	text-align:justified;
	 }
	 pre {
	 	background-color:white !important;
	 	border:0px !important;
	 	padding:0px !important;
	 	overflow: visible !important;
	 }
	 pre code {
	 	padding:2px !important;
	 	margin : 0px !important;
	 }
	</style>

    <!-- Le styles -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/asciidoctor.css" rel="stylesheet">
    <link href="css/base.css" rel="stylesheet">
    <link href="css/prettify.css" rel="stylesheet">
  	<link rel="stylesheet" type="text/css" href="css/shCore.css"  >
	<link rel="stylesheet" type="text/css" href="css/shThemeLense.css" >
	
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->

    <link rel="shortcut icon" href="icon.png">
  </head>
  <body onload="prettyPrint()">
    <div id="wrap">
	
	<!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="index.html">Lense</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown">Get Started<b class="caret"></b></a>
				<ul class="dropdown-menu">
					<li class="disabled"><a href="learn.html">Learn Lense</a></li>
					<li class="disabled"><a href="try.html">Try Lense</a></li>
					<li><a href="https://github.com/sergiotaborda/lense-lang">Download</a></li>
				</ul>
			</li>
            <li class="dropdown">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown">Fundamentals<b class="caret"></b></a>
				<ul class="dropdown-menu">
					<li><a href="tour.html">Language Tour</a></li>
					<li class="disabled"><a href="guide.html">Programmer's Guide</a></li>
					<li><a href="platforms.html">Target Platforms's Guide</a></li>
				</ul>
            </li>
			
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Details<b class="caret"></b></a>
				<ul class="dropdown-menu">
					<li><a href="numbers.html">Numbers</a></li>
					<li><a href="strings.html">Strings</a></li>
					<li><a href="objects.html">Classes and Objects</a></li>
					<li><a href="constructors.html">Constructors</a></li>
					<li><a href="operators.html">Operators</a></li>
					<li><a href="containerLiterals.html">Container Literals</a></li>
					<li><a href="sumtypes.html">Sum Types</a></li>
					<li><a href="monads.html">Monads</a></li>
					
					<li class="disabled"><a href="enhancements.html">External Enhancements</a></li>
					<li class="disabled"><a href="concurrency.html">Concurrency</a></li>
				</ul>
            </li>
			<li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">More<b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="https://github.com/sergiotaborda/lense-lang">Source Code</a></li>
			    <li><a href="https://groups.google.com/forum/#!forum/lense-lang">Discussion Group</a></li>
				
				<li><a href="status.html">Roadmap &amp; Status</a></li>
              </ul>
            </li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
	<div class="corner-ribbon top-right sticky shadow"><a href="status.html">Exploration Stage</a></div>
    <div class="container">
	<p><h1>Numbers</h1><p>Numbers are separated in specific algebraic structures that conform to the mathematical rules of the group of elements.<br/>All numbers are descendent types of the <code>Number</code> class. Operations are defined for each type independently.<br/>Lense supports Complex and Imaginary numbers. Even thought we are aware the performance of these types may not be optimal, we understand that not supporting them would be a worst decision. </p>
<ul>
  <li>Whole - numbers with no decimal part.
  <ul>
    <li>Natural - Represents elements from the mathematical <strong>&#8469;</strong> set, i.e. positive only whole values that include zero and range from 0 up to maximum value limited only by available memory</li>
    <li>Integer - Represents elements from the mathematical <strong>&#8484;</strong> set, i.e. negative and positive whole values.
    <ul>
      <li>Int16 - negative and positive whole values with range from -2<sup>15</sup> to 2<sup>15</sup>-1.</li>
      <li>Int32 - negative and positive whole values with range from -2<sup>31</sup> to 2<sup>31</sup>-1.</li>
      <li>Int64 - negative and positive whole values with range from -2<sup>63</sup> to 2<sup>63</sup>-1.</li>
      <li>BigInt - negative and positive whole values with arbitrary range limited only by available memory</li>
    </ul></li>
  </ul></li>
  <li>Real - Represents elements from the mathematical <strong>&#8477;</strong> set.
  <ul>
    <li>Rational - Represents elements from the mathematical <strong>&#8474;</strong> set, i.e. rational numbers defined by a natural numerator and a natural denominator like 2/3 or -5/8. The denominator cannot be zero.</li>
    <li>Decimal - Represents elements that have a fixed precision and so calculations may incur in loss of precision.
    <ul>
      <li>Decimal32 - negative and positive decimal values that follow 32 bits IEEE 3744 conventions</li>
      <li>Decimal64 - negative and positive decimal values that follow 64 bits IEEE 3744 conventions</li>
      <li>BigDecimal - Represents elements in the <strong>&#8477;</strong> set including truncated version of irrational numbers.Negative and positive decimal values with arbitrary precision limited only by available memory.</li>
    </ul></li>
  </ul></li>
  <li>Imaginary - Represents elements from the mathematical <strong>&#120128;</strong> set. Numbers with pure imaginary parts of the form <code>bi</code> where <code>i</code> is the square root of -1.
  <ul>
    <li>ImaginaryOverReals<T extends Real>; - uses a Real type to store the numeric value</li>
  </ul></li>
  <li>Complex - Represents elements from the mathematical <strong>&#8450;</strong> set. Complex numbers are of the form <code>a + bi</code> where <code>i</code> it the square root of -1.
  <ul>
    <li>ComplexOverReals<T extends Real>; - Use a Real to type to store a numeric value for the real part and a ImaginaryOverReals<T> for the imaginary part.</li>
  </ul></li>
</ul><p>Natural is used as an indexer for sequences. It is non-negative and was big as you need. Limits to collections like arrays, lists and maps are only bound by implementation.<br/>Using a Natural to index sequences removes the necessity to check for negative indexes and as Arrays always have a upper limit and always are constructed by <a href="constructors.html">factory like constructors</a> the implementation for each platform can accommodate different implementations according to maximum length demand.</p><p>For more information on how Natural relates to index of sequences, see how <a href="arrays.html">Arrays</a> work in Lense.<br/>For more information on arithmetic operations more on Lense <a href="operators.html">operators</a>.</p><h2>Number Literals</h2><p>For <code>Whole</code> number literals are always assumed Natural and in base ten representation. The natural values are transformed to other types as needed.<br/>This conversion may rise an <code>OverflowException</code> as a <code>Natural</code> can exceed the maximum values of other types. For <code>Decimal</code> values, literals are always assumed to be instance of <code>BigDecimal</code>. <code>BigDecimal</code> constructor only accepts a string representation of the value as the BigDecimal literal representation must be exact.</p><p>If you need to define the type of the literal explicitly you can use specific sufixes, upper case letters for whole numbers and lowercase letters to decimal numbers.</p>
<pre><code class="brush: lense">	var Natural n = 1; // equivalent to Natural.valueOf(&quot;1&quot;)
	
	// literals are always assumed to be Natural and promoted when necessary
	var Int32 i = 1;  // equivalent to Int32.valueOf(Natural.valueOf(&quot;1&quot;));
	var Int16 s = 1;  // equivalent to Int16.valueOf(Natural.valueOf(&quot;1&quot;));
	var Int64 k = 1;  // equivalent to Int64.valueOf(Natural.valueOf(&quot;1&quot;));
	var BigInt g = 1;  // equivalent to BigInt.valueOf(Natural.valueOf(&quot;1&quot;));
	
	// If the target type is Whole or Integer, the literal it&#39;s equivalent to having BigInt as target 
	var Whole n = 1; // equivalent to BigInt.valueOf(Natural.valueOf(&quot;1&quot;));
	var Integer all = 1;  // equivalent to BigInt.valueOf(Natural.valueOf(&quot;1&quot;));
	
	// sufixes can be used to inform the compiler the correct type of the literal
	// for whole numbers only uppercase prefixes are allowed 
	var Int32 ii = 1Z;  // equivalent to Int32.valueOf(&quot;1&quot;);
	var Int16 ss = 1S;  // equivalent to Int16.valueOf(&quot;1&quot;);
	var Int64 kk = 1L;  // equivalent to Int64.valueOf(&quot;1&quot;);
	var BigInt gg = 1G;  // equivalent to BigInt.valueOf(&quot;1&quot;);
	
	// Rationals are defined by the division of two whole positive values. 
	var Rational r = 2/3; // equivalent to Natural.valueOf(&quot;2&quot;).divide(Natural.valueOf(&quot;3&quot;))
	var Rational q = -5/8; // equivalent to Natural.valueOf(&quot;5&quot;).negate().divide(Natural.valueOf(&quot;8&quot;));
	var Rational q = -x/y; // equivalent to Natural.valueOf(x).negate().divide(Natural.valueOf(y));
	
	// In this case 1 is a Natural being promoted to a Decimal32.
	var Decimal32 f = 1; // equivalent to Decimal32.valueOf(Natural.valueOf(&quot;1&quot;));
	
	// decimal values are always assumed to be BigDecimals
	var Decimal32 ff = 1.6; // equivalent to Decimal32.valueOf(BigDecimal.valueOf(&quot;1.6&quot;));
	var Decimal64 d = 2.0; // equivalent to Decimal64.valueOf(BigDecimal.valueOf(&quot;2.0&quot;));
	var BigDecimal m = 1.234567890E100; // equivalent to BigDecimal.valueOf(&quot;1.234567890E100&quot;);

	// prefixes can also be used to inform the compiler the correct type of the literal
	// for non whole numbers only lower-case prefixes are allowed 
	var Decimal32 fff = 1.6f; // equivalent to Decimal32.valueOf(&quot;1.6&quot;);
	var Decimal64 dd = 2.0d; // equivalent to Decimal64.valueOf(&quot;2.0&quot;);
	var BigDecimal mm = 1m; // equivalent to BigDecimal.valueOf(&quot;1&quot;);
	
	
	var Imaginary a = 2i; // equivalent to Imaginary.valueOf(Natural.valueOf(&quot;2&quot;));
	var Imaginary b = 2.5i; // equivalent to Imaginary.valueOf(BigDecimal.valueOf(&quot;2.5&quot;));
	
	var Imaginary error = 2; // does not compile because a Natural can not be converted to an Imaginary number

	var Complex = 5 + 2i; // equivalent to Natural.valueOf(&quot;5&quot;).plus(Imaginary.valueOf(Natural.valueOf(&quot;2&quot;)))
	var Complex = 3.9 + 0.2i; // equivalent to BigDecimal.valueOf(&quot;3.9&quot;).plus(Imaginary.valueOf(BigDecimal.valueOf(&quot;0.2&quot;))
</code></pre><p>In any representation you can use _ to logically separate digits in the value to help readability.</p>
<pre><code class="brush: lense">	var Integer -1000000;
	// or
	var Integer = -1_000_000;
</code></pre><h3>Other Bases for Literal Representations</h3><p>Numeral literals are assumed to be represented in decimal form (base 10) for all types.<br/>For naturals it is also possible to use the hexadecimal (base 16) form.</p><p>The hexadecimal form begins with a <code>#</code> symbol followed by a valid hexadecimal digit: 1, 2, 3, 4, 5, 6, 7, 8, A , B, C, D , E , F.<br/>You can also use _ to separate digits like in base 10 representation.</p>
<pre><code class="brush: lense">	var Natural color = #A3C1_F100; // hexadecimal
</code></pre><h2>Binary and Bytes</h2><p>Lense supports the <code>Binary</code> immutable interface to represent any value that can be understood as a sequence of bits. <code>Binary</code> does not,necessarily, represent a number. <code>BitArray</code> is the default, mutable, implementation of <code>Binary</code> present in the SDK API. <code>BitArray</code> supports a variable size of bits.</p><p><code>Byte</code> is a special class that implements <code>Binary</code> corresponding to a fixed length sequence of 8 bits. It's primarily used for I/O operations. <code>Byte</code> is not a number, does not have an assigned numeric value and there is no automatic promotion from <code>Byte</code> to any type of <code>Number</code>. Also it has no arithmetic operations.<br/>However, a <code>Byte</code> can be transformed explicitly to a <code>Natural</code> between 0 and 255 or to a <code>Int32</code> between -128 and 127 by means of the <code>toNatural()</code> and <code>toInteger()</code> functions.</p>
<pre><code class="brush: lense">	var Byte byte = $1111_0000; 
	var Natural n = byte.toNatural(); // equivalent to 240;
	var Int32 i = byte.toInteger(); // equivalent to -16
	
	var Natural error = byte; // illegal. Byte is not assignable to Natural.
</code></pre><p><code>Int16</code> , <code>Int32</code> and <code>Int64</code> also implement <code>Binary</code> corresponding to a fixed length sequence of 16, 32 and 64 bits respectively. Because this values have a signed<br/>numeric value one of the bits (the left most bit) is reserved to determine the sign. The rest of the bits represent the value if the value is positive (left most bit is zero),<br/>else represent the Two Complement representation of the (then negative) value.</p><h3>Literal Representation</h3><p>The literal begins with a <code>$</code> sign flowed by a sequence of ones (to represent <code>true</code>) and zeros (to represent <code>false</code>). The <code>_</code> symbol can be used, as in number literals, to separate digit logically.</p><p>All binary literals are assumed to be instances of <code>BitArray</code>s of the given number of bits. It is not possible to have a zero bits sequence. </p>
<pre><code class="brush: lense">	var Byte byte = $1111_0000; // equivalent to Byte.valueOf(BitArray.valueOf(true,true,true,true,false,false,false,false));
	var Int16 short = $1111_0000_1111_0000; // equivalent to Int16.valueOf(BitArray.valueOf(true,true,true,true,false,false,false,false,true,true,true,true,false,false,false,false));
	var BitArray flags = $1111_0000_0101_0110_0010_0001_0101_1001; // equivalent to BitArray.valueOf(true,true,true,true,false,false,false,false,true,false,tru,false,true,true,false,false,false,false,false,false,false,false,true,false,true,false,true,true,false,false,true);
</code></pre><p><em>Note the equivalent expressions are conceptual, in practice the compiler uses more suitable constructors for each case.</em></p></p>
	
		</div>
		<div id="push"></div>
    </div>
    
    <div id="footer">
      <div class="container">
        <p class="muted credit">Lense is an open source project and a community driven development</p>
      </div>
    </div>
    
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/jquery-1.11.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/prettify.js"></script>
    <script>
    	SyntaxHighlighter.config.tagName = 'code';
		SyntaxHighlighter.defaults.toolbar = false;
		SyntaxHighlighter.all();
    
    </script>
  </body>
</html>