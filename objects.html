<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Objects</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">
    
    <script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-77665803-1', 'auto');
	  ga('send', 'pageview');

	</script>
  
	<script src="js/shCore.js"></script>

	<script src="js/shBrushScala.js"></script>
	<script src="js/shBrushCSharp.js"></script>
	<script src="js/shBrushDart.js"></script>
	<script src="js/shBrushJava.js"></script>
		
	<script src="js/shBrushLense.js"></script>
	<style>
	 .console {
	    background : black;
	    color: white;
	    width: 500px;
	 }
	 p {
	 	text-align:justified;
	 }
	 pre {
	 	background-color:white !important;
	 	border:0px !important;
	 	padding:0px !important;
	 	overflow: visible !important;
	 }
	 pre code {
	 	padding:2px !important;
	 	margin : 0px !important;
	 }
	</style>

    <!-- Le styles -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/asciidoctor.css" rel="stylesheet">
    <link href="css/base.css" rel="stylesheet">
    <link href="css/prettify.css" rel="stylesheet">
  	<link rel="stylesheet" type="text/css" href="css/shCore.css"  >
	<link rel="stylesheet" type="text/css" href="css/shThemeLense.css" >
	
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->

    <link rel="shortcut icon" href="icon.png">
  </head>
  <body onload="prettyPrint()">
    <div id="wrap">
	
	<!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" href="index.html">Lense</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown">Get Started<b class="caret"></b></a>
				<ul class="dropdown-menu">
					<li class="disabled"><a href="learn.html">Learn Lense</a></li>
					<li class="disabled"><a href="try.html">Try Lense</a></li>
					<li><a href="https://github.com/sergiotaborda/lense-lang">Download</a></li>
				</ul>
			</li>
            <li class="dropdown">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown">Fundamentals<b class="caret"></b></a>
				<ul class="dropdown-menu">
					<li><a href="tour.html">Language Tour</a></li>
					<li class="disabled"><a href="guide.html">Programmer's Guide</a></li>
					<li><a href="platforms.html">Target Platforms's Guide</a></li>
				</ul>
            </li>
			
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Details<b class="caret"></b></a>
				<ul class="dropdown-menu">
					<li><a href="numbers.html">Numbers</a></li>
					<li><a href="strings.html">Strings</a></li>
					<li><a href="objects.html">Classes and Objects</a></li>
					<li><a href="constructors.html">Constructors</a></li>
					<li><a href="operators.html">Operators</a></li>
					<li><a href="containerLiterals.html">Container Literals</a></li>
					<li><a href="sumtypes.html">Sum Types</a></li>
					<li><a href="monads.html">Monads</a></li>
					
					<li class="disabled"><a href="enhancements.html">External Enhancements</a></li>
					<li class="disabled"><a href="concurrency.html">Concurrency</a></li>
				</ul>
            </li>
			<li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">More<b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="https://github.com/sergiotaborda/lense-lang">Source Code</a></li>
			    <li><a href="https://groups.google.com/forum/#!forum/lense-lang">Discussion Group</a></li>
				
				<li><a href="status.html">Roadmap &amp; Status</a></li>
              </ul>
            </li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
	<div class="corner-ribbon top-right sticky shadow"><a href="status.html">Exploration Stage</a></div>
    <div class="container">
	<p><p>Lense does not have primitives (values that are not objects) and thus all values are objets , all objects decend from some class and all variables are references.<br/>The Lense back-end compiler may try to use the native plataform's primitives as much as possible to enhance performance, but this is an otimization. Conceptually primitives do not exist.<br/>All being objetcs also means no static members exist.</p><h1>Classes</h1><p>Classes are the main tool to define your own objects.<br/>A class to represent fraction objects could be implemented like so:</p>
<pre><code class="brush: lense">public val class Fraction {
    
    val Integer numerator;
    val Integer denominator;

    private constructor (Integer numerator, Integer denominator);

    constructor valueOf (Decimal value){
        return new Fraction(value.toString());
    }

    constructor valueOf (String value){
         val Natural? pos = value.indexOf(&#39;.&#39;);
         if (pos.hasValue){
            val wholePart = new Integer.parse(value.subString(0,pos));
            val multiplier =  10 ^ (value.length - pos); // 10 to the power of the number of decimal digits
            val decimalPart = new Integer.parse(value.subString(pos+1));     

            val numerator = wholePart * multiplier + decimalPart;

            return new Fraction(numerator, multiplier);
         } else {
            // whole number
            return new Fraction(new Integer.parse(value), 1);
         }
    }

    public Fraction multiply (Fraction other ){
          return new Fraction ( this.numerator * other.numerator, this.denominator * other.denominator);
    }

    public Fraction invert (){
        return new Fraction (this.denominator, this.numerator);
    }

    public Integer Numerator { get { return numerator; } } 

    public Integer Denominator { get { return denominator; } } 

}
</code></pre><p>Classes in Lense support fields, properties, indeers, methods and constructors as you would expect.<br/>Lense also support imutability declaration for classes with <code>val class</code>.<br/>Any type or member can also have generic type parameters.</p>
<pre><code class="brush: lense">public class Matrix&lt;T&gt; { 

    val Array&lt;T&gt; backingArray = new Array&lt;T&gt;();

    val Natural rowsCount;
    val Natural colsCount;

    constructor Matrix(Natural rowsCount, Natural colsCount){
        this.rowsCount = rowsCount;
        this.colsCount = colsCount;

        backingArray = new Array&lt;T&gt;(rowsCount * colsCount);
    }

    public T [Natural row, Natural column] {
        get {
            return backingArray[row * ]
        }        
        set (value){

        }
    }

}
</code></pre><h1>Objects</h1><p>Instead of static members, Lense has object delcarations. An object declaration instructs the compiler to<br/>create a singleton object the exists in the package space.</p>
<pre><code class="brush: lense">public object Console {

	public Void println(String text){
         // implementation goes here ... 
    }


}
</code></pre><p>Objects and then imported normally like a type using the <code>import</code> statement:</p>
<pre><code class="brush: lense">import somepackage.Console;

public class OtherClass {

	public void doIt() {
	     Console.println(&quot;Hello, world&quot;);
	}
}

</code></pre><p>As you can see from this example, calling methods on the object is very much like a static call in other languages.</p><p>When declaring an object Lense will really create a single instance of the given anonymous class in the parent scope. Objects can implement interfaces and inherit from other classes but not from other objects. </p><h1>Nested Objects (Under Consideration)</h1><p>Objects can be nested in other types and other objects. In this case the object will have access to the private members of the surrounding type.<br/>Nested objects calls must be prefixed with the type they are in:</p>
<pre><code class="brush: lense">public class OtherClass {

	public object SomeObject {
	     
	      public Void doItInTheObject {} 
	}
   
	public Void doItInTheOtherClass() {
	
	}
}

// called like 

OtherClass.SomeObject.doItInTheObject()
</code></pre><h1>Interfaces</h1><p>Interfaces are constract declarations with no implementation.</p>
<pre><code class="brush: lense">public interface Validator&lt;in T&gt; {

     public ValidatorResult validate( T candidate);
}
</code></pre><p>Interfaces can extend other interfaces an are implemented by classes</p>
<pre><code class="brush: lense">public val class MailValidator implements Validator&lt;String&gt; {

     public ValidatorResult validate( String candidate) {
            var result = new ValidatorResult ();

            if (!candidate.indexOf(&#39;@&#39;).isPresent){
                   result.addReason(&quot;Invalid email&quot;);
            }

            return result;
     }
}
</code></pre></p>
	
		</div>
		<div id="push"></div>
    </div>
    
    <div id="footer">
      <div class="container">
        <p class="muted credit">Lense is an open source project and a community driven development</p>
      </div>
    </div>
    
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/jquery-1.11.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/prettify.js"></script>
    <script>
    	SyntaxHighlighter.config.tagName = 'code';
		SyntaxHighlighter.defaults.toolbar = false;
		SyntaxHighlighter.all();
    
    </script>
  </body>
</html>